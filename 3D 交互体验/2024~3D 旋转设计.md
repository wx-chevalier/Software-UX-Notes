> DocId: S3tNZHOrwg1PY2urdcJ

```markdown
[原文链接](https://www.mattkeeter.com/projects/rotation/)
```

# 3D 旋转设计

## 引言

在 2D 屏幕上与 3D 模型交互时,用户希望能够旋转模型并从各个角度查看它。这是一个非常有趣的人机交互(HCI)问题,已有大量关于不同系统设计的研究。

比较 Blender 和 Meshlab 中的旋转行为:

- Blender
- Meshlab

它们之间有明显的区别,但要用语言或代码来描述这种区别并不容易。

让我们来看看几种常见的旋转系统,分析它们的优缺点。

## 转台式旋转(Turntable)

首先来看看"转台式"旋转。我们探讨的所有系统都是基于鼠标的;当你点击并拖动时,角度会改变:

- 左右旋转围绕视点的**全局** z 轴
- 上下旋转围绕视点的**局部** x 轴

这个系统有一个明显的缺陷:无法从任意角度查看模型,因为模型的 Z 轴始终指向屏幕的上下方向。

## 翻滚式旋转(Tumbler)

让我们对转台系统做一个小改动:

- 左右旋转围绕视点的**局部 y** 轴
- 上下旋转围绕视点的局部 x 轴

这个系统允许旋转到任意角度,但感觉非常不直观:用户最终通过移动鼠标画小圆圈来"翻滚"模型,逐步接近目标位置。

这个系统还有一个更微妙的问题:它缺乏**路径独立性**。这意味着如果你在特定位置开始和结束拖动,旋转结果将取决于鼠标移动的路径。

## 轨迹球(Trackball)

轨迹球旋转指的是一整类系统,在《Virtual Trackballs Revisited》中有详细描述。

顾名思义,我们将一个球体("球")投影到模型上。当用户点击时,我们"抓住"球上的那个点。当鼠标拖动时,我们计算出将抓住的点放置到新鼠标位置所需的旋转。

使用这个模型时你可能会注意到,你只能将模型旋转最多 180 度。如果继续拖动,旋转不会无限继续。

屏幕坐标映射到虚拟轨迹球的方式有一些微妙之处。这里使用的是 Holroyd 的策略:不是纯球体,而是在球体和双曲面之间混合。这消除了球体半径处的不连续性。

更多细节和其他映射方式,请参见上述论文。

## 总结

对于你的 3D 应用程序,应该选择哪种旋转系统呢？

下表总结了我们确定的理想特性:

| 系统   | 任意旋转 | 路径独立 | 无限旋转 |
| ------ | -------- | -------- | -------- |
| 转台式 | ✘        | ✔        | ✔        |
| 翻滚式 | ✔        | ✘        | ✔        |
| 轨迹球 | ✔        | ✔        | ✘        |

建议如下:

- 如果模型有关联的真实世界轴,使用转台式旋转
- 如果没有固定的真实世界轴,使用轨迹球旋转
- 使用翻滚式旋转的唯一理由是不了解更好的选择

有趣的是,在 Formlab 的 3D 打印机主机软件 Preform 中混合使用了转台式和轨迹球旋转。你能发现区别吗？

视口的旋转使用转台式旋转,因为 3D 空间模拟的是打印机的构建体积;模型旋转使用弧球(带有明确的 UI 提示),因为这类似于抓取模型表面。
